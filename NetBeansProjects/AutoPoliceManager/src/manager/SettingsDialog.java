/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package manager;

import java.awt.CardLayout;
import java.awt.Dimension;
import java.awt.Rectangle;
import java.sql.SQLException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.logging.Level;
import java.util.logging.Logger;
import manager.util.AutoPoliceConstants;

/**
 *
 * @author user
 */
public class SettingsDialog extends javax.swing.JDialog {

    /**
     * Creates new form SettingsDialog
     */
    public SettingsDialog(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        pnlSettings = new javax.swing.JPanel();
        pnlGeneralSettings = new javax.swing.JPanel();
        jLabel110 = new javax.swing.JLabel();
        txtVehiclePhotoBaseDirectory = new javax.swing.JTextField();
        jLabel114 = new javax.swing.JLabel();
        txtVehicleOwnerPhotoBaseDirectory = new javax.swing.JTextField();
        jLabel116 = new javax.swing.JLabel();
        txtCaptivePhotoBaseDirectory = new javax.swing.JTextField();
        jLabel117 = new javax.swing.JLabel();
        txtCriminalPhotoBaseDirectory = new javax.swing.JTextField();
        jLabel118 = new javax.swing.JLabel();
        jLabel120 = new javax.swing.JLabel();
        txtStaffPhotoBaseDirectory = new javax.swing.JTextField();
        jLabel121 = new javax.swing.JLabel();
        txtRemoteServerHost = new javax.swing.JTextField();
        jSeparator16 = new javax.swing.JSeparator();
        txtRemoteBaseDir = new javax.swing.JTextField();
        jLabel138 = new javax.swing.JLabel();
        pnlProxySettings = new javax.swing.JPanel();
        jLabel85 = new javax.swing.JLabel();
        txtProxyHost = new javax.swing.JTextField();
        jLabel88 = new javax.swing.JLabel();
        txtProxyPort = new javax.swing.JTextField();
        jLabel90 = new javax.swing.JLabel();
        txtProxyUsername = new javax.swing.JTextField();
        jLabel92 = new javax.swing.JLabel();
        radAutoDetectProxy = new javax.swing.JRadioButton();
        radManualProxy = new javax.swing.JRadioButton();
        radUseSystemProxy = new javax.swing.JRadioButton();
        txtProxyPassword = new javax.swing.JPasswordField();
        pnlZonalSettings = new javax.swing.JPanel();
        jLabel105 = new javax.swing.JLabel();
        jLabel108 = new javax.swing.JLabel();
        lblZone = new javax.swing.JLabel();
        jLabel112 = new javax.swing.JLabel();
        cboState = new javax.swing.JComboBox();
        cboLGA = new javax.swing.JComboBox();
        jLabel134 = new javax.swing.JLabel();
        cboDivision = new javax.swing.JComboBox();
        pnlDatabaseSettings = new javax.swing.JPanel();
        jLabel95 = new javax.swing.JLabel();
        txtDatabaseServerName = new javax.swing.JTextField();
        jLabel97 = new javax.swing.JLabel();
        txtDatabaseServerPort = new javax.swing.JTextField();
        jLabel99 = new javax.swing.JLabel();
        txtDatabaseName = new javax.swing.JTextField();
        jLabel101 = new javax.swing.JLabel();
        txtDatabaseUsername = new javax.swing.JTextField();
        pnlFtpSettings = new javax.swing.JPanel();
        jLabel31 = new javax.swing.JLabel();
        jLabel32 = new javax.swing.JLabel();
        jLabel33 = new javax.swing.JLabel();
        jLabel84 = new javax.swing.JLabel();
        txtFtpHost = new javax.swing.JTextField();
        txtFtpPort = new javax.swing.JTextField();
        txtFtpUsername = new javax.swing.JTextField();
        jLabel86 = new javax.swing.JLabel();
        txtFtpPassword = new javax.swing.JPasswordField();
        jScrollPane12 = new javax.swing.JScrollPane();
        treeSettings = new javax.swing.JTree();
        tpSettings = new org.jdesktop.swingx.JXTitledPanel();
        cmdZonalSettingsOK = new javax.swing.JButton();
        cmdZonalSettingsCancel = new javax.swing.JButton();

        pnlSettings.setPreferredSize(new java.awt.Dimension(500, 500));
        pnlSettings.setLayout(new java.awt.CardLayout());

        pnlGeneralSettings.setMinimumSize(new java.awt.Dimension(400, 450));

        jLabel110.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel110.setText("Vehicle ");

        jLabel114.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel114.setText("Vehicle owner ");

        txtVehicleOwnerPhotoBaseDirectory.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtVehicleOwnerPhotoBaseDirectoryActionPerformed(evt);
            }
        });

        jLabel116.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel116.setText("Captive");

        jLabel117.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel117.setText("Criminal");

        jLabel118.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel118.setText("Enter the photo base directory for the different categories on the remote server");

        jLabel120.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel120.setText("Staff");

        txtStaffPhotoBaseDirectory.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtStaffPhotoBaseDirectoryActionPerformed(evt);
            }
        });

        jLabel121.setText("Remote server host");

        txtRemoteServerHost.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                txtRemoteServerHostFocusLost(evt);
            }
        });

        txtRemoteBaseDir.setText("traysa");
        txtRemoteBaseDir.setEnabled(false);

        jLabel138.setText("Remote base dir.");

        javax.swing.GroupLayout pnlGeneralSettingsLayout = new javax.swing.GroupLayout(pnlGeneralSettings);
        pnlGeneralSettings.setLayout(pnlGeneralSettingsLayout);
        pnlGeneralSettingsLayout.setHorizontalGroup(
            pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlGeneralSettingsLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlGeneralSettingsLayout.createSequentialGroup()
                        .addGroup(pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(pnlGeneralSettingsLayout.createSequentialGroup()
                                .addGroup(pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel120, javax.swing.GroupLayout.PREFERRED_SIZE, 93, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel110, javax.swing.GroupLayout.PREFERRED_SIZE, 93, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel114, javax.swing.GroupLayout.PREFERRED_SIZE, 93, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel116, javax.swing.GroupLayout.PREFERRED_SIZE, 93, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel117, javax.swing.GroupLayout.PREFERRED_SIZE, 93, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(22, 22, 22)
                                .addGroup(pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                    .addComponent(txtCriminalPhotoBaseDirectory, javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(txtCaptivePhotoBaseDirectory, javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(txtVehicleOwnerPhotoBaseDirectory, javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(txtVehiclePhotoBaseDirectory, javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(txtStaffPhotoBaseDirectory, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 192, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addComponent(jLabel118, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(pnlGeneralSettingsLayout.createSequentialGroup()
                        .addGroup(pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jSeparator16)
                            .addGroup(pnlGeneralSettingsLayout.createSequentialGroup()
                                .addGroup(pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addGroup(pnlGeneralSettingsLayout.createSequentialGroup()
                                        .addComponent(jLabel121)
                                        .addGap(22, 22, 22)
                                        .addComponent(txtRemoteServerHost, javax.swing.GroupLayout.PREFERRED_SIZE, 189, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGroup(pnlGeneralSettingsLayout.createSequentialGroup()
                                        .addComponent(jLabel138)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(txtRemoteBaseDir, javax.swing.GroupLayout.PREFERRED_SIZE, 189, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGap(0, 0, Short.MAX_VALUE)))
                        .addContainerGap())))
        );
        pnlGeneralSettingsLayout.setVerticalGroup(
            pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlGeneralSettingsLayout.createSequentialGroup()
                .addGap(30, 30, 30)
                .addGroup(pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel121)
                    .addComponent(txtRemoteServerHost, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(21, 21, 21)
                .addGroup(pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel138)
                    .addComponent(txtRemoteBaseDir, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(25, 25, 25)
                .addComponent(jSeparator16, javax.swing.GroupLayout.PREFERRED_SIZE, 10, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel118)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel120)
                    .addComponent(txtStaffPhotoBaseDirectory, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel110)
                    .addComponent(txtVehiclePhotoBaseDirectory, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel114)
                    .addComponent(txtVehicleOwnerPhotoBaseDirectory, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel116)
                    .addComponent(txtCaptivePhotoBaseDirectory, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlGeneralSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel117)
                    .addComponent(txtCriminalPhotoBaseDirectory, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(166, Short.MAX_VALUE))
        );

        pnlSettings.add(pnlGeneralSettings, "General Settings");

        pnlProxySettings.setMinimumSize(new java.awt.Dimension(60, 60));
        pnlProxySettings.setPreferredSize(new java.awt.Dimension(500, 400));

        jLabel85.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel85.setText("Host");

        txtProxyHost.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtProxyHostActionPerformed(evt);
            }
        });

        jLabel88.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel88.setText("Port");

        jLabel90.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel90.setText("Username");

        jLabel92.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel92.setText("Password");

        radAutoDetectProxy.setText("Auto detect proxy");
        radAutoDetectProxy.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                radAutoDetectProxyActionPerformed(evt);
            }
        });

        radManualProxy.setText("Manually set proxy");
        radManualProxy.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                radManualProxyActionPerformed(evt);
            }
        });

        radUseSystemProxy.setText("Use system proxy");
        radUseSystemProxy.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                radUseSystemProxyActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnlProxySettingsLayout = new javax.swing.GroupLayout(pnlProxySettings);
        pnlProxySettings.setLayout(pnlProxySettingsLayout);
        pnlProxySettingsLayout.setHorizontalGroup(
            pnlProxySettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlProxySettingsLayout.createSequentialGroup()
                .addGap(26, 26, 26)
                .addGroup(pnlProxySettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(radUseSystemProxy)
                    .addComponent(radManualProxy)
                    .addComponent(radAutoDetectProxy)
                    .addGroup(pnlProxySettingsLayout.createSequentialGroup()
                        .addGroup(pnlProxySettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel85, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel90, javax.swing.GroupLayout.DEFAULT_SIZE, 81, Short.MAX_VALUE))
                        .addGap(18, 18, Short.MAX_VALUE)
                        .addGroup(pnlProxySettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtProxyHost, javax.swing.GroupLayout.PREFERRED_SIZE, 131, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtProxyUsername, javax.swing.GroupLayout.PREFERRED_SIZE, 131, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(pnlProxySettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel88, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel92, javax.swing.GroupLayout.DEFAULT_SIZE, 54, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(pnlProxySettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(txtProxyPort)
                            .addComponent(txtProxyPassword, javax.swing.GroupLayout.PREFERRED_SIZE, 125, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addGap(48, 48, 48))
        );
        pnlProxySettingsLayout.setVerticalGroup(
            pnlProxySettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlProxySettingsLayout.createSequentialGroup()
                .addGap(22, 22, 22)
                .addComponent(radManualProxy)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(radUseSystemProxy)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(radAutoDetectProxy)
                .addGap(18, 18, 18)
                .addGroup(pnlProxySettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel85)
                    .addComponent(txtProxyHost, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel88)
                    .addComponent(txtProxyPort, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, Short.MAX_VALUE)
                .addGroup(pnlProxySettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel90)
                    .addComponent(txtProxyUsername, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel92)
                    .addComponent(txtProxyPassword, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pnlSettings.add(pnlProxySettings, "Proxy Settings");

        jLabel105.setText("State");

        jLabel108.setText("LGA");

        lblZone.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(102, 102, 102)));

        jLabel112.setText("Zone");

        cboState.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cboStateActionPerformed(evt);
            }
        });

        cboLGA.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cboLGAActionPerformed(evt);
            }
        });

        jLabel134.setText("Division");

        cboDivision.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Division A", "Division B", "State Headquater" }));
        cboDivision.setSelectedIndex(-1);

        javax.swing.GroupLayout pnlZonalSettingsLayout = new javax.swing.GroupLayout(pnlZonalSettings);
        pnlZonalSettings.setLayout(pnlZonalSettingsLayout);
        pnlZonalSettingsLayout.setHorizontalGroup(
            pnlZonalSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlZonalSettingsLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlZonalSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(pnlZonalSettingsLayout.createSequentialGroup()
                        .addGroup(pnlZonalSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel108, javax.swing.GroupLayout.DEFAULT_SIZE, 46, Short.MAX_VALUE)
                            .addComponent(jLabel105, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(pnlZonalSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(cboState, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(cboLGA, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(pnlZonalSettingsLayout.createSequentialGroup()
                        .addGroup(pnlZonalSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel112, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel134, javax.swing.GroupLayout.DEFAULT_SIZE, 46, Short.MAX_VALUE))
                        .addGap(18, 18, Short.MAX_VALUE)
                        .addGroup(pnlZonalSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(cboDivision, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lblZone, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        pnlZonalSettingsLayout.setVerticalGroup(
            pnlZonalSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlZonalSettingsLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlZonalSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel105)
                    .addComponent(cboState, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlZonalSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel108)
                    .addComponent(cboLGA, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlZonalSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel134)
                    .addComponent(cboDivision, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlZonalSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel112)
                    .addComponent(lblZone, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pnlSettings.add(pnlZonalSettings, "Zonal Settings");

        jLabel95.setText("DB Server name");

        jLabel97.setText("DB Server port");

        jLabel99.setText("Database name");

        txtDatabaseName.setFont(new java.awt.Font("Tahoma", 2, 12)); // NOI18N
        txtDatabaseName.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        txtDatabaseName.setText("Automatic");
        txtDatabaseName.setEnabled(false);

        jLabel101.setText("Username");

        txtDatabaseUsername.setFont(new java.awt.Font("Tahoma", 2, 12)); // NOI18N
        txtDatabaseUsername.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        txtDatabaseUsername.setText("Automatic");
        txtDatabaseUsername.setEnabled(false);

        javax.swing.GroupLayout pnlDatabaseSettingsLayout = new javax.swing.GroupLayout(pnlDatabaseSettings);
        pnlDatabaseSettings.setLayout(pnlDatabaseSettingsLayout);
        pnlDatabaseSettingsLayout.setHorizontalGroup(
            pnlDatabaseSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlDatabaseSettingsLayout.createSequentialGroup()
                .addGap(34, 34, 34)
                .addGroup(pnlDatabaseSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel99)
                    .addComponent(jLabel101)
                    .addGroup(pnlDatabaseSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addComponent(jLabel95, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jLabel97, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addGap(29, 29, 29)
                .addGroup(pnlDatabaseSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(txtDatabaseServerName)
                    .addComponent(txtDatabaseServerPort)
                    .addComponent(txtDatabaseName, javax.swing.GroupLayout.DEFAULT_SIZE, 174, Short.MAX_VALUE)
                    .addComponent(txtDatabaseUsername))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        pnlDatabaseSettingsLayout.setVerticalGroup(
            pnlDatabaseSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlDatabaseSettingsLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlDatabaseSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel95)
                    .addComponent(txtDatabaseServerName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnlDatabaseSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel97)
                    .addComponent(txtDatabaseServerPort, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnlDatabaseSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtDatabaseName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel99))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnlDatabaseSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel101)
                    .addComponent(txtDatabaseUsername, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pnlSettings.add(pnlDatabaseSettings, "Database Settings");

        jLabel31.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel31.setText("Host Address");

        jLabel32.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel32.setText("Port");

        jLabel33.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel33.setText("Username");

        jLabel84.setHorizontalAlignment(javax.swing.SwingConstants.TRAILING);
        jLabel84.setText("Password");

        txtFtpPort.setText("21");

        jLabel86.setText("default is 21");

        javax.swing.GroupLayout pnlFtpSettingsLayout = new javax.swing.GroupLayout(pnlFtpSettings);
        pnlFtpSettings.setLayout(pnlFtpSettingsLayout);
        pnlFtpSettingsLayout.setHorizontalGroup(
            pnlFtpSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlFtpSettingsLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlFtpSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel31, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jLabel32, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jLabel33, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jLabel84, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlFtpSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(txtFtpHost)
                    .addComponent(txtFtpPort, javax.swing.GroupLayout.DEFAULT_SIZE, 193, Short.MAX_VALUE)
                    .addComponent(txtFtpUsername)
                    .addComponent(txtFtpPassword))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jLabel86)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        pnlFtpSettingsLayout.setVerticalGroup(
            pnlFtpSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlFtpSettingsLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlFtpSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel31)
                    .addComponent(txtFtpHost, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlFtpSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel32)
                    .addComponent(txtFtpPort, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel86))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlFtpSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtFtpUsername, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel33))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(pnlFtpSettingsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel84)
                    .addComponent(txtFtpPassword, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pnlSettings.add(pnlFtpSettings, "FTP Settings");

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setBounds(this.getCenteredBounds(0.7, 0.8));
        setPreferredSize(this.getFormDimension(0.7, 0.8));

        javax.swing.tree.DefaultMutableTreeNode treeNode1 = new javax.swing.tree.DefaultMutableTreeNode("General");
        javax.swing.tree.DefaultMutableTreeNode treeNode2 = new javax.swing.tree.DefaultMutableTreeNode("Connections");
        javax.swing.tree.DefaultMutableTreeNode treeNode3 = new javax.swing.tree.DefaultMutableTreeNode("Ftp");
        treeNode2.add(treeNode3);
        treeNode3 = new javax.swing.tree.DefaultMutableTreeNode("Database");
        treeNode2.add(treeNode3);
        treeNode3 = new javax.swing.tree.DefaultMutableTreeNode("Proxy");
        treeNode2.add(treeNode3);
        treeNode1.add(treeNode2);
        treeNode2 = new javax.swing.tree.DefaultMutableTreeNode("Police Zone");
        treeNode3 = new javax.swing.tree.DefaultMutableTreeNode("Settings");
        treeNode2.add(treeNode3);
        treeNode1.add(treeNode2);
        treeSettings.setModel(new javax.swing.tree.DefaultTreeModel(treeNode1));
        treeSettings.addTreeSelectionListener(new javax.swing.event.TreeSelectionListener() {
            public void valueChanged(javax.swing.event.TreeSelectionEvent evt) {
                treeSettingsValueChanged(evt);
            }
        });
        jScrollPane12.setViewportView(treeSettings);

        tpSettings.setContentContainer(pnlSettings);
        tpSettings.setTitle(" General Settings");
        tpSettings.setTitleFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N

        cmdZonalSettingsOK.setText("OK");
        cmdZonalSettingsOK.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmdZonalSettingsOKActionPerformed(evt);
            }
        });

        cmdZonalSettingsCancel.setText("Cancel");
        cmdZonalSettingsCancel.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmdZonalSettingsCancelActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jScrollPane12, javax.swing.GroupLayout.PREFERRED_SIZE, 143, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tpSettings, javax.swing.GroupLayout.DEFAULT_SIZE, 404, Short.MAX_VALUE)
                        .addContainerGap())
                    .addGroup(layout.createSequentialGroup()
                        .addGap(136, 136, 136)
                        .addComponent(cmdZonalSettingsOK, javax.swing.GroupLayout.PREFERRED_SIZE, 69, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(51, 51, 51)
                        .addComponent(cmdZonalSettingsCancel)
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane12)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(tpSettings, javax.swing.GroupLayout.PREFERRED_SIZE, 375, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(cmdZonalSettingsOK)
                            .addComponent(cmdZonalSettingsCancel))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void treeSettingsValueChanged(javax.swing.event.TreeSelectionEvent evt) {//GEN-FIRST:event_treeSettingsValueChanged

        String selected_obj = evt.getNewLeadSelectionPath().getLastPathComponent().toString();

        CardLayout card_layout = (CardLayout) this.pnlSettings.getLayout();

        switch (selected_obj) {
            case "General":
            this.tpSettings.setTitle("General Settings");
            card_layout.show(pnlSettings, "General Settings");
            break;
            case "Ftp":
            this.tpSettings.setTitle("FTP Settings");
            card_layout.show(pnlSettings, "FTP Settings");
            break;
            case "Database":
            this.tpSettings.setTitle("Database Connection Configuration");
            card_layout.show(pnlSettings, "Database Settings");
            break;
            case "Proxy":
            this.tpSettings.setTitle("Proxy Settings");
            card_layout.show(pnlSettings, "Proxy Settings");
            break;
            case "Settings":
            this.tpSettings.setTitle("Zonal Settings");
            card_layout.show(pnlSettings, "Zonal Settings");
            break;
        }
    }//GEN-LAST:event_treeSettingsValueChanged

    private void cmdZonalSettingsOKActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmdZonalSettingsOKActionPerformed
        setGeneralSettings();
        setZoneSetting();
        setZonalDatabaseSettings();
        setProxySettings();
        setFTPSettings();

        //finally close the dialog window
        //this.setVisible(false);
        this.dispose();
    }//GEN-LAST:event_cmdZonalSettingsOKActionPerformed

    void setFTPSettings() {
        
        ServerManager.ftp_host = this.txtFtpHost.getText();
        ServerManager.ftp_port = Integer.parseInt(this.txtFtpPort.getText());
        ServerManager.ftp_username = this.txtFtpUsername.getText();
        ServerManager.ftp_password = String.valueOf(this.txtFtpPassword.getPassword());
        
        //save the value goes below 
    }   
        
    void setZonalDatabaseSettings() {
        
        if (ServerManager.zone == null || ServerManager.zone.isEmpty()) {
            //zone must be set
            return;
        }
        
        String _zone = ServerManager.zone.replaceAll(" ", "");//join all the characters together
        _zone = _zone.toLowerCase();//Convert to small letters

        //convert the zone to this format zone_n where n equals zone number e.g zone_1 , zone_2
        String z = _zone.substring(0, 4);
        String n = _zone.substring(4);
        _zone = z +   n;

        //Set the database parameter values for the zone
        ServerManager.zone_bind_name = _zone + "_bind";//e.g for zone 4 it is zone_4_bind
        ServerManager.zone_db_host = this.txtDatabaseServerName.getText().trim();
        ServerManager.zone_db_port = Integer.parseInt(this.txtDatabaseServerPort.getText().trim());
        ServerManager.zone_db_name = _zone + "_policedb";//e.g for zone 4 it is zone_4_policedb 
        ServerManager.zone_db_username = _zone + "_police";//e.g for zone 4 it is zone_4_police
        ServerManager.zone_db_password = _zone + "_policepass";//e.g for zone 4 it is zone_4_policepass

        synchronized (ServerManager.dv_lock) {
            ServerManager.isZoneDataSourceChange = true;
        }

    }
    
    void setZoneSetting() {

        if (this.cboState.getSelectedItem() == null) {

            return;
        }

        if (this.cboLGA.getSelectedItem() == null) {

            return;
        }

        if (this.cboDivision.getSelectedItem() == null) {

            return;
        }

        ServerManager.IncidenceState = this.cboState.getSelectedItem().toString();
        ServerManager.IncidenceLGA = this.cboLGA.getSelectedItem().toString();
        ServerManager.division = this.cboDivision.getSelectedItem().toString();
        ServerManager.zone = this.lblZone.getText();

        
        setZonalDatabaseSettings();

        //save the value goes below 
    }

    void setGeneralSettings() {

        ServerManager.RemoteServerHost = this.txtRemoteServerHost.getText();

        if (!ServerManager.RemoteServerHost.isEmpty()) {

            ServerManager.autopoliice_host = ServerManager.RemoteServerHost;
            ServerManager.track_host = ServerManager.RemoteServerHost;

            //this default server host of other server host like ftp, database is this remote server 
            if (this.txtFtpHost.getText().isEmpty()) {
                this.txtFtpHost.setText(ServerManager.RemoteServerHost);
            }

            if (this.txtDatabaseServerName.getText().isEmpty()) {
                this.txtDatabaseServerName.setText(ServerManager.RemoteServerHost);
            }

        }

        String remote_base_dir = this.txtRemoteBaseDir.getText().trim() + "/";

        ServerManager.staff_base_dir = remote_base_dir + AutoPoliceConstants.STAFF_PHOTO_PREFIX_DIR + this.txtStaffPhotoBaseDirectory.getText().trim();
        ServerManager.vehicle_base_dir = remote_base_dir + AutoPoliceConstants.VEHICLE_PHOTO_PREFIX_DIR + this.txtVehiclePhotoBaseDirectory.getText().trim();
        ServerManager.vehicle_owner_base_dir = remote_base_dir + AutoPoliceConstants.VEHICLE_OWNER_PHOTO_PREFIX_DIR + this.txtVehicleOwnerPhotoBaseDirectory.getText().trim();
        ServerManager.captive_base_dir = remote_base_dir + AutoPoliceConstants.CAPTIVE_PHOTO_PREFIX_DIR + this.txtCaptivePhotoBaseDirectory.getText().trim();
        ServerManager.criminal_base_dir = remote_base_dir + AutoPoliceConstants.CRIMINAL_PHOTO_PREFIX_DIR + this.txtCriminalPhotoBaseDirectory.getText().trim();

        //save the value goes below 
    }

    void setProxySettings() {

        if (this.radManualProxy.isSelected()) {
            //come back
            if (!txtProxyHost.getText().isEmpty()) {
                System.setProperty("http.proxyHost", txtProxyHost.getText());
            }
            if (!txtProxyPort.getText().isEmpty()) {
                System.setProperty("http.proxyPort", txtProxyPort.getText());
            }
            if (!txtProxyUsername.getText().isEmpty()) {
                System.setProperty("http.proxyUser", txtProxyUsername.getText());
            }
            if (!String.valueOf(txtProxyPassword.getPassword()).isEmpty()) {
                System.setProperty("http.proxyPassword", String.valueOf(txtProxyPassword.getPassword()));
            }
        } else if (this.radUseSystemProxy.isSelected()) {
            System.setProperty("java.net.useSystemProxies", "true"); //come back
        } else if (this.radAutoDetectProxy.isSelected()) {
            ServerManager.isAutoDetectProxy = true;
            System.setProperty("java.net.useSystemProxies", "true"); //come back
        }

        //save the value goes below 
    }

    private void cmdZonalSettingsCancelActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmdZonalSettingsCancelActionPerformed
        this.dispose();
    }//GEN-LAST:event_cmdZonalSettingsCancelActionPerformed

    private void txtVehicleOwnerPhotoBaseDirectoryActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtVehicleOwnerPhotoBaseDirectoryActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtVehicleOwnerPhotoBaseDirectoryActionPerformed

    private void txtStaffPhotoBaseDirectoryActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtStaffPhotoBaseDirectoryActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtStaffPhotoBaseDirectoryActionPerformed

    private void txtRemoteServerHostFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_txtRemoteServerHostFocusLost
        ServerManager.autopoliice_host = txtRemoteServerHost.getText();//come back
    }//GEN-LAST:event_txtRemoteServerHostFocusLost

    private void txtProxyHostActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtProxyHostActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtProxyHostActionPerformed

    private void radAutoDetectProxyActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_radAutoDetectProxyActionPerformed
        this.radUseSystemProxy.setSelected(!this.radAutoDetectProxy.isSelected());
        this.radManualProxy.setSelected(!this.radAutoDetectProxy.isSelected());
    }//GEN-LAST:event_radAutoDetectProxyActionPerformed

    private void radManualProxyActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_radManualProxyActionPerformed
        this.radAutoDetectProxy.setSelected(!this.radManualProxy.isSelected());
        this.radUseSystemProxy.setSelected(!this.radManualProxy.isSelected());
    }//GEN-LAST:event_radManualProxyActionPerformed

    private void radUseSystemProxyActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_radUseSystemProxyActionPerformed
        this.radAutoDetectProxy.setSelected(!this.radUseSystemProxy.isSelected());
        this.radManualProxy.setSelected(!this.radUseSystemProxy.isSelected());
    }//GEN-LAST:event_radUseSystemProxyActionPerformed

    private void cboStateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cboStateActionPerformed

        Object o_state = this.cboState.getSelectedItem();

        ArrayList lgas_list = ServerManager.mapStatesAndLGAs.get((String)o_state);

        this.cboLGA.removeAllItems();
        Object[] lgas=lgas_list.toArray();
        Arrays.sort(lgas);
        for(Object lga:lgas){
            this.cboLGA.addItem(lga);
        }

        if (o_state == null) {
            return;
        }

        final String state = o_state.toString();

        new Thread(new Runnable() {

            @Override
            public void run() {
                String[] sql_columns = new String[]{"ZONE"};
                String condition = "WHERE STATE='"+state+"'";
                DBResource dr = null;
                try {
                    dr = ServerManager.sendQueryAutoPolice("police_zone",  sql_columns, condition);
                    if(dr.rs.next()){
                        //this.IncidenceState = "";
                        //this.IncidenceLGA =
                        lblZone.setText(dr.rs.getString("ZONE"));
                    }

                } catch (SQLException ex) {
                    Logger.getLogger(ServerManager.class.getName()).log(Level.SEVERE, null, ex);
                    if(dr!=null){
                        dr.close();
                    }
                }
            }
        }).start();
    }//GEN-LAST:event_cboStateActionPerformed

    private void cboLGAActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cboLGAActionPerformed

    }//GEN-LAST:event_cboLGAActionPerformed
    
    Rectangle getCenteredBounds(double percent_screen_width, double percent_screen_height) {
        int task_bar_height = 37;
        int screen_width = (int) this.getGraphicsConfiguration().getBounds().getWidth();
        int screen_height = (int) this.getGraphicsConfiguration().getBounds().getHeight();
        int w = (int) (percent_screen_width * screen_width);
        int h = (int) (percent_screen_height * screen_height);

        int x = (int) ((screen_width - w) / 2);
        int y = (int) ((screen_height - h) / 2);

        if (h + y > screen_height - task_bar_height) {
            y = 0;
            h = screen_height - task_bar_height;
        }
        return new Rectangle(x, y, w, h);
    }

    private Dimension getFormDimension(double percent_screen_width, double percent_screen_height) {

        int screen_width = (int) this.getGraphicsConfiguration().getBounds().getWidth();
        int screen_height = (int) this.getGraphicsConfiguration().getBounds().getHeight();
        int w = (int) (percent_screen_width * screen_width);
        int h = (int) (percent_screen_height * screen_height);

        return new Dimension(w, h);
    }

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(SettingsDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(SettingsDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(SettingsDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(SettingsDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the dialog */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                SettingsDialog dialog = new SettingsDialog(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox cboDivision;
    private javax.swing.JComboBox cboLGA;
    public static javax.swing.JComboBox cboState;
    private javax.swing.JButton cmdZonalSettingsCancel;
    private javax.swing.JButton cmdZonalSettingsOK;
    private javax.swing.JLabel jLabel101;
    private javax.swing.JLabel jLabel105;
    private javax.swing.JLabel jLabel108;
    private javax.swing.JLabel jLabel110;
    private javax.swing.JLabel jLabel112;
    private javax.swing.JLabel jLabel114;
    private javax.swing.JLabel jLabel116;
    private javax.swing.JLabel jLabel117;
    private javax.swing.JLabel jLabel118;
    private javax.swing.JLabel jLabel120;
    private javax.swing.JLabel jLabel121;
    private javax.swing.JLabel jLabel134;
    private javax.swing.JLabel jLabel138;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel84;
    private javax.swing.JLabel jLabel85;
    private javax.swing.JLabel jLabel86;
    private javax.swing.JLabel jLabel88;
    private javax.swing.JLabel jLabel90;
    private javax.swing.JLabel jLabel92;
    private javax.swing.JLabel jLabel95;
    private javax.swing.JLabel jLabel97;
    private javax.swing.JLabel jLabel99;
    private javax.swing.JScrollPane jScrollPane12;
    private javax.swing.JSeparator jSeparator16;
    private javax.swing.JLabel lblZone;
    private javax.swing.JPanel pnlDatabaseSettings;
    private javax.swing.JPanel pnlFtpSettings;
    private javax.swing.JPanel pnlGeneralSettings;
    private javax.swing.JPanel pnlProxySettings;
    private javax.swing.JPanel pnlSettings;
    private javax.swing.JPanel pnlZonalSettings;
    private javax.swing.JRadioButton radAutoDetectProxy;
    private javax.swing.JRadioButton radManualProxy;
    private javax.swing.JRadioButton radUseSystemProxy;
    private org.jdesktop.swingx.JXTitledPanel tpSettings;
    private javax.swing.JTree treeSettings;
    private javax.swing.JTextField txtCaptivePhotoBaseDirectory;
    private javax.swing.JTextField txtCriminalPhotoBaseDirectory;
    private javax.swing.JTextField txtDatabaseName;
    private javax.swing.JTextField txtDatabaseServerName;
    private javax.swing.JTextField txtDatabaseServerPort;
    private javax.swing.JTextField txtDatabaseUsername;
    private javax.swing.JTextField txtFtpHost;
    private javax.swing.JPasswordField txtFtpPassword;
    private javax.swing.JTextField txtFtpPort;
    private javax.swing.JTextField txtFtpUsername;
    private javax.swing.JTextField txtProxyHost;
    private javax.swing.JPasswordField txtProxyPassword;
    private javax.swing.JTextField txtProxyPort;
    private javax.swing.JTextField txtProxyUsername;
    private javax.swing.JTextField txtRemoteBaseDir;
    private javax.swing.JTextField txtRemoteServerHost;
    private javax.swing.JTextField txtStaffPhotoBaseDirectory;
    private javax.swing.JTextField txtVehicleOwnerPhotoBaseDirectory;
    private javax.swing.JTextField txtVehiclePhotoBaseDirectory;
    // End of variables declaration//GEN-END:variables
}
