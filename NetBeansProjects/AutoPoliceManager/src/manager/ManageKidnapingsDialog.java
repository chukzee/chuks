/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package manager;

import java.awt.Dimension;
import java.awt.Rectangle;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import java.net.URL;
import java.sql.SQLException;
import java.text.SimpleDateFormat;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.ListSelectionModel;
import javax.swing.event.ListSelectionEvent;
import javax.swing.event.ListSelectionListener;
import manager.ui.model.MngKidnapReportModel;
import manager.ui.model.MngKidnaperModel;
import manager.util.SQLColumn;
import org.json.JSONObject;

/**
 *
 * @author user
 */
public class ManageKidnapingsDialog extends javax.swing.JDialog {

    MngKidnapReportModel mngCaptiveModel = new MngKidnapReportModel();
    MngKidnaperModel mngKidnaperModel = new MngKidnaperModel();
    /**
     * Creates new form ManageKidnapingsDialog
     */
    public ManageKidnapingsDialog(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        dlgAddKidnaper = new javax.swing.JDialog();
        lblAddKidnaperOfCaptive = new javax.swing.JLabel();
        jLabel122 = new javax.swing.JLabel();
        jLabel123 = new javax.swing.JLabel();
        jLabel124 = new javax.swing.JLabel();
        jLabel125 = new javax.swing.JLabel();
        jLabel126 = new javax.swing.JLabel();
        jLabel127 = new javax.swing.JLabel();
        jLabel128 = new javax.swing.JLabel();
        txtAddKidnaperFirstName = new javax.swing.JTextField();
        txtAddKidnaperLastName = new javax.swing.JTextField();
        txtAddKidnaperSex = new javax.swing.JTextField();
        txtAddKidnaperAge = new javax.swing.JTextField();
        txtAddKidnaperPhoneNo = new javax.swing.JTextField();
        cmdAddKidnaper = new javax.swing.JButton();
        txtAddCancelKidnaper = new javax.swing.JButton();
        txtAddKidnaperStatus = new javax.swing.JComboBox();
        imgAddKidnaperImageView = new org.jdesktop.swingx.JXImageView();
        txtAddKidnaperPhotoFilename = new javax.swing.JTextField();
        cmdBrowseKidnaperPhoto = new javax.swing.JButton();
        txtAddKidnaperTimeCaught = new org.jdesktop.swingx.JXDatePicker();
        jLabel106 = new javax.swing.JLabel();
        jLabel107 = new javax.swing.JLabel();
        lblMngCaptiveFullName = new javax.swing.JLabel();
        jLabel109 = new javax.swing.JLabel();
        lblMngCaptiveSex = new javax.swing.JLabel();
        jLabel111 = new javax.swing.JLabel();
        lblMngCaptiveAge = new javax.swing.JLabel();
        jLabel113 = new javax.swing.JLabel();
        lblMngCaptivePhoneNo = new javax.swing.JLabel();
        lblMngCaptiveDatetimeKidnaped = new javax.swing.JLabel();
        lblMngCaptiveKidnapDateTime = new javax.swing.JLabel();
        jLabel119 = new javax.swing.JLabel();
        dplMngCaptiveDatetimeRescued = new org.jdesktop.swingx.JXDatePicker();
        imgCaptiveImageView = new org.jdesktop.swingx.JXImageView();
        lblMngKidnapersCount = new javax.swing.JLabel();
        cmdMngAddKidnapper = new javax.swing.JButton();
        cmdMngKidnapingUpdate = new javax.swing.JButton();
        jScrollPane13 = new javax.swing.JScrollPane();
        mngKidnapReportTable = new manager.ui.KidnapReportTable();
        jScrollPane14 = new javax.swing.JScrollPane();
        tblKidnapperTable = new manager.ui.KidnaperTable();
        cboMngCaptiveStatus = new javax.swing.JComboBox();
        cmdMngKidnapingAttachCaptivePhoto = new javax.swing.JButton();

        dlgAddKidnaper.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        dlgAddKidnaper.setTitle("Add Kidnapper");
        dlgAddKidnaper.setBounds(this.getCenteredBounds(0.7, 0.7));
        dlgAddKidnaper.setModalityType(java.awt.Dialog.ModalityType.APPLICATION_MODAL);
        dlgAddKidnaper.setType(java.awt.Window.Type.POPUP);
        dlgAddKidnaper.addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                dlgAddKidnaperWindowClosing(evt);
            }
            public void windowOpened(java.awt.event.WindowEvent evt) {
                dlgAddKidnaperWindowOpened(evt);
            }
        });

        lblAddKidnaperOfCaptive.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        lblAddKidnaperOfCaptive.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblAddKidnaperOfCaptive.setText("Add Kidnaper");

        jLabel122.setText("First name");

        jLabel123.setText("Last name");

        jLabel124.setText("Sex");

        jLabel125.setText("Age");

        jLabel126.setText("Phone no.");

        jLabel127.setText("Time caught");

        jLabel128.setText("Status");

        cmdAddKidnaper.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        cmdAddKidnaper.setText("Add");
        cmdAddKidnaper.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmdAddKidnaperActionPerformed(evt);
            }
        });

        txtAddCancelKidnaper.setFont(new java.awt.Font("Tahoma", 0, 12)); // NOI18N
        txtAddCancelKidnaper.setText("Close");
        txtAddCancelKidnaper.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtAddCancelKidnaperActionPerformed(evt);
            }
        });

        txtAddKidnaperStatus.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "WANTED", "ARRESTED", "EXECUTED" }));
        txtAddKidnaperStatus.setSelectedIndex(-1);

        javax.swing.GroupLayout imgAddKidnaperImageViewLayout = new javax.swing.GroupLayout(imgAddKidnaperImageView);
        imgAddKidnaperImageView.setLayout(imgAddKidnaperImageViewLayout);
        imgAddKidnaperImageViewLayout.setHorizontalGroup(
            imgAddKidnaperImageViewLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 200, Short.MAX_VALUE)
        );
        imgAddKidnaperImageViewLayout.setVerticalGroup(
            imgAddKidnaperImageViewLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 160, Short.MAX_VALUE)
        );

        txtAddKidnaperPhotoFilename.setEditable(false);
        txtAddKidnaperPhotoFilename.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtAddKidnaperPhotoFilenameActionPerformed(evt);
            }
        });

        cmdBrowseKidnaperPhoto.setText("...");
        cmdBrowseKidnaperPhoto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmdBrowseKidnaperPhotoActionPerformed(evt);
            }
        });

        txtAddKidnaperTimeCaught.setFormats(new SimpleDateFormat("yyyy-MM-dd HH:mm:ss"));

        javax.swing.GroupLayout dlgAddKidnaperLayout = new javax.swing.GroupLayout(dlgAddKidnaper.getContentPane());
        dlgAddKidnaper.getContentPane().setLayout(dlgAddKidnaperLayout);
        dlgAddKidnaperLayout.setHorizontalGroup(
            dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dlgAddKidnaperLayout.createSequentialGroup()
                .addGroup(dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(dlgAddKidnaperLayout.createSequentialGroup()
                        .addGroup(dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(dlgAddKidnaperLayout.createSequentialGroup()
                                .addGap(47, 47, 47)
                                .addGroup(dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel122)
                                    .addComponent(jLabel123)
                                    .addComponent(jLabel126)
                                    .addGroup(dlgAddKidnaperLayout.createSequentialGroup()
                                        .addGap(3, 3, 3)
                                        .addGroup(dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(jLabel124)
                                            .addComponent(jLabel125))))
                                .addGap(33, 33, 33)
                                .addGroup(dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(txtAddKidnaperFirstName, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtAddKidnaperLastName, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtAddKidnaperSex, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtAddKidnaperAge, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(txtAddKidnaperPhoneNo, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 33, Short.MAX_VALUE)
                                .addComponent(imgAddKidnaperImageView, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(dlgAddKidnaperLayout.createSequentialGroup()
                                .addGap(130, 130, 130)
                                .addComponent(cmdAddKidnaper, javax.swing.GroupLayout.PREFERRED_SIZE, 92, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(38, 38, 38)
                                .addComponent(txtAddCancelKidnaper, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(dlgAddKidnaperLayout.createSequentialGroup()
                                .addGap(47, 47, 47)
                                .addGroup(dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel128, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel127))
                                .addGap(25, 25, 25)
                                .addGroup(dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(txtAddKidnaperStatus, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(txtAddKidnaperTimeCaught, javax.swing.GroupLayout.DEFAULT_SIZE, 120, Short.MAX_VALUE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 33, Short.MAX_VALUE)
                                .addComponent(txtAddKidnaperPhotoFilename, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(0, 0, 0)
                                .addComponent(cmdBrowseKidnaperPhoto, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(0, 7, Short.MAX_VALUE))
                    .addComponent(lblAddKidnaperOfCaptive, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        dlgAddKidnaperLayout.setVerticalGroup(
            dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(dlgAddKidnaperLayout.createSequentialGroup()
                .addGap(11, 11, 11)
                .addComponent(lblAddKidnaperOfCaptive)
                .addGap(18, 18, 18)
                .addGroup(dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(dlgAddKidnaperLayout.createSequentialGroup()
                        .addGap(3, 3, 3)
                        .addComponent(jLabel122)
                        .addGap(17, 17, 17)
                        .addComponent(jLabel123)
                        .addGap(21, 21, 21)
                        .addComponent(jLabel124)
                        .addGap(16, 16, 16)
                        .addComponent(jLabel125, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(14, 14, 14)
                        .addComponent(jLabel126))
                    .addGroup(dlgAddKidnaperLayout.createSequentialGroup()
                        .addComponent(txtAddKidnaperFirstName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(11, 11, 11)
                        .addComponent(txtAddKidnaperLastName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(11, 11, 11)
                        .addComponent(txtAddKidnaperSex, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(13, 13, 13)
                        .addComponent(txtAddKidnaperAge, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(txtAddKidnaperPhoneNo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(imgAddKidnaperImageView, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 9, Short.MAX_VALUE)
                .addGroup(dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(txtAddKidnaperPhotoFilename, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cmdBrowseKidnaperPhoto)
                    .addGroup(dlgAddKidnaperLayout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addGroup(dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel127, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtAddKidnaperTimeCaught, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 17, Short.MAX_VALUE)
                .addGroup(dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel128)
                    .addGroup(dlgAddKidnaperLayout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addComponent(txtAddKidnaperStatus, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addGap(29, 29, 29)
                .addGroup(dlgAddKidnaperLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(cmdAddKidnaper)
                    .addComponent(txtAddCancelKidnaper))
                .addContainerGap(25, Short.MAX_VALUE))
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Manage Kidnappings Report");
        setBounds(this.getCenteredBounds(0.98, 0.9));
        setPreferredSize(this.getFormDimension(0.98, 0.9));

        jLabel106.setText("Status");

        jLabel107.setText("Capitve full name");

        jLabel109.setText("Captive sex");

        jLabel111.setText("Captive age");

        jLabel113.setText("Captive phone no.");

        lblMngCaptiveDatetimeKidnaped.setText("Datetime kidnaped");

        jLabel119.setText("Datetime of rescue");

        dplMngCaptiveDatetimeRescued.setEditable(false);
        dplMngCaptiveDatetimeRescued.setFormats(new SimpleDateFormat("yyyy-MM-dd HH:mm:ss"));

        javax.swing.GroupLayout imgCaptiveImageViewLayout = new javax.swing.GroupLayout(imgCaptiveImageView);
        imgCaptiveImageView.setLayout(imgCaptiveImageViewLayout);
        imgCaptiveImageViewLayout.setHorizontalGroup(
            imgCaptiveImageViewLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 120, Short.MAX_VALUE)
        );
        imgCaptiveImageViewLayout.setVerticalGroup(
            imgCaptiveImageViewLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 100, Short.MAX_VALUE)
        );

        lblMngKidnapersCount.setFont(new java.awt.Font("Times New Roman", 0, 24)); // NOI18N
        lblMngKidnapersCount.setText("0 known kidnapers");

        cmdMngAddKidnapper.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        cmdMngAddKidnapper.setText("Add Kidnaper");
        cmdMngAddKidnapper.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmdMngAddKidnapperActionPerformed(evt);
            }
        });

        cmdMngKidnapingUpdate.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        cmdMngKidnapingUpdate.setText("Edit");
        cmdMngKidnapingUpdate.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmdMngKidnapingUpdateActionPerformed(evt);
            }
        });

        mngKidnapReportTable.setModel(this.mngCaptiveModel);
        mngKidnapReportTable.setRowHeight(60);
        mngKidnapReportTable.setSelectionModel(setPrefetchKidnapSelectionModel());
        jScrollPane13.setViewportView(mngKidnapReportTable);

        tblKidnapperTable.setModel(this.mngKidnaperModel);
        tblKidnapperTable.setRowHeight(60);
        jScrollPane14.setViewportView(tblKidnapperTable);

        cboMngCaptiveStatus.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "MISSING", "RESCUED" }));
        cboMngCaptiveStatus.setEnabled(false);

        cmdMngKidnapingAttachCaptivePhoto.setText("Attach Photo");
        cmdMngKidnapingAttachCaptivePhoto.setToolTipText("Attach captive's photo");
        cmdMngKidnapingAttachCaptivePhoto.setEnabled(false);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane13, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(lblMngKidnapersCount, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cmdMngAddKidnapper, javax.swing.GroupLayout.PREFERRED_SIZE, 126, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jScrollPane14, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jLabel106, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(cboMngCaptiveStatus, javax.swing.GroupLayout.PREFERRED_SIZE, 116, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(cmdMngKidnapingUpdate, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jLabel119, javax.swing.GroupLayout.PREFERRED_SIZE, 96, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(dplMngCaptiveDatetimeRescued, javax.swing.GroupLayout.PREFERRED_SIZE, 193, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel107, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel109, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel111, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel113, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblMngCaptiveDatetimeKidnaped, javax.swing.GroupLayout.PREFERRED_SIZE, 90, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(6, 6, 6)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lblMngCaptiveFullName, javax.swing.GroupLayout.PREFERRED_SIZE, 115, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblMngCaptiveSex, javax.swing.GroupLayout.PREFERRED_SIZE, 115, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblMngCaptiveAge, javax.swing.GroupLayout.PREFERRED_SIZE, 115, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblMngCaptivePhoneNo, javax.swing.GroupLayout.PREFERRED_SIZE, 115, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGroup(layout.createSequentialGroup()
                                        .addGap(4, 4, 4)
                                        .addComponent(lblMngCaptiveKidnapDateTime, javax.swing.GroupLayout.PREFERRED_SIZE, 115, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addGap(34, 34, 34)
                                .addComponent(imgCaptiveImageView, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(cmdMngKidnapingAttachCaptivePhoto)))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(6, 6, 6)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel106)
                            .addComponent(cboMngCaptiveStatus, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(cmdMngKidnapingUpdate))
                        .addGap(14, 14, 14)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(jLabel107)
                                .addGap(12, 12, 12)
                                .addComponent(jLabel109)
                                .addGap(12, 12, 12)
                                .addComponent(jLabel111)
                                .addGap(12, 12, 12)
                                .addComponent(jLabel113)
                                .addGap(17, 17, 17)
                                .addComponent(lblMngCaptiveDatetimeKidnaped))
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(lblMngCaptiveFullName, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(11, 11, 11)
                                .addComponent(lblMngCaptiveSex, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(11, 11, 11)
                                .addComponent(lblMngCaptiveAge, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(11, 11, 11)
                                .addComponent(lblMngCaptivePhoneNo, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(16, 16, 16)
                                .addComponent(lblMngCaptiveKidnapDateTime, javax.swing.GroupLayout.PREFERRED_SIZE, 15, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(layout.createSequentialGroup()
                                .addGap(13, 13, 13)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(cmdMngKidnapingAttachCaptivePhoto)
                                    .addComponent(imgCaptiveImageView, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addGap(15, 15, 15)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel119)
                            .addComponent(dplMngCaptiveDatetimeRescued, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(43, 43, 43)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lblMngKidnapersCount)
                            .addComponent(cmdMngAddKidnapper, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jScrollPane14, javax.swing.GroupLayout.DEFAULT_SIZE, 27, Short.MAX_VALUE))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(14, 14, 14)
                        .addComponent(jScrollPane13, javax.swing.GroupLayout.DEFAULT_SIZE, 309, Short.MAX_VALUE)))
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void cmdMngAddKidnapperActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmdMngAddKidnapperActionPerformed
        if (ServerManager.SelectedKidnapReportSerialNo > - 1) {
            if (this.mngKidnapReportTable.getSelectedReportSerialNo() == ServerManager.SelectedKidnapReportSerialNo) {
                lblAddKidnaperOfCaptive.setText("Add Kidnaper of " + this.lblMngCaptiveFullName.getText());
                this.dlgAddKidnaper.setVisible(true);
            }
        }
    }//GEN-LAST:event_cmdMngAddKidnapperActionPerformed

    private void cmdMngKidnapingUpdateActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmdMngKidnapingUpdateActionPerformed

        if (cmdMngKidnapingUpdate.getText().equalsIgnoreCase("Edit")) {
            this.cboMngCaptiveStatus.setEnabled(true);
            this.dplMngCaptiveDatetimeRescued.setEditable(true);
            this.cmdMngKidnapingAttachCaptivePhoto.setEnabled(true);
            this.cmdMngKidnapingUpdate.setText("Update");
            return;
        }

        if (this.cboMngCaptiveStatus.getSelectedItem() == null) {
            JOptionPane.showMessageDialog(this, "Status not be empty", "Invalid", JOptionPane.ERROR_MESSAGE);
            return;
        }

        if (this.dplMngCaptiveDatetimeRescued.getDate() == null) {
            JOptionPane.showMessageDialog(this, "Datetime of rescue is invalid.", "Invalid", JOptionPane.ERROR_MESSAGE);
            return;
        }

        try {
            SQLColumn[] column = new SQLColumn[]{new SQLColumn("STATUS", this.cboMngCaptiveStatus.getSelectedItem().toString()),
                new SQLColumn("TIME_RESCUED", this.dplMngCaptiveDatetimeRescued.getEditor().getText())};
            ServerManager.updateStatementAutoPolice("kidnap_report", column, "WHERE SN='" + ServerManager.SelectedKidnapReportSerialNo + "'", true);

            this.cboMngCaptiveStatus.setEnabled(false);
            this.dplMngCaptiveDatetimeRescued.setEditable(false);
            cmdMngKidnapingUpdate.setText("Edit");

            JOptionPane.showMessageDialog(this, "Updated successfully.", "Success", JOptionPane.INFORMATION_MESSAGE);

        } catch (SQLException ex) {
            Logger.getLogger(ServerManager.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_cmdMngKidnapingUpdateActionPerformed

    private void cmdAddKidnaperActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmdAddKidnaperActionPerformed

        String kidnaper_first_name = this.txtAddKidnaperFirstName.getText();
        String kidnaper_last_name = this.txtAddKidnaperLastName.getText();
        String kidnaper_sex = this.txtAddKidnaperSex.getText();
        String kidnaper_age = this.txtAddKidnaperAge.getText();
        String kidnaper_phone_no = this.txtAddKidnaperPhoneNo.getText();
        String kidnaper_time_caught = this.txtAddKidnaperTimeCaught.getEditor().getText();
        Object kidnaper_status = this.txtAddKidnaperStatus.getSelectedItem();
        String kidnaper_img_file_name = imgAddKidnaperImageView.getImageURL().getFile();
        String kidnaper_remarks = "";//COME BACK!!!

        if (kidnaper_first_name.isEmpty()
            || kidnaper_sex.isEmpty()
            || kidnaper_status == null) {
            JOptionPane.showMessageDialog(this.dlgAddKidnaper, "Kidnaper must be described by atleast a First Name, Sex and Status.", "Invalid Information!", JOptionPane.ERROR_MESSAGE);
            return;
        }

        try {
            Integer.parseInt(kidnaper_age.isEmpty() ? (kidnaper_age = "0") : kidnaper_age);
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this.dlgAddKidnaper, "Kidnaper's age is invalid!", "Invalid Entry!", JOptionPane.ERROR_MESSAGE);
            return;
        }

        kidnaper_time_caught = kidnaper_time_caught.isEmpty() ? "1600-00-00" : kidnaper_time_caught;

        dlgAddKidnaper.setEnabled(false);//disable the kidnaper JDialog

        long unique_number = ServerManager.getUniqueNumber();
        boolean photo_sucess = true;
        while (unique_number == -1) {
            dlgAddKidnaper.setEnabled(true);
            int option = JOptionPane.showConfirmDialog(this.dlgAddKidnaper, "Initialize photo send failed!\nCheck your connection.\nTry again?", "Unsent Photo", JOptionPane.YES_NO_OPTION, JOptionPane.WARNING_MESSAGE);
            if (option == JOptionPane.NO_OPTION) {
                photo_sucess = false;
                break;
            }

            dlgAddKidnaper.setEnabled(false);//disable the kidnaper JDialog
            unique_number = ServerManager.getUniqueNumber();
        }

        dlgAddKidnaper.setEnabled(false);//disable the kidnaper JDialog

        String remote_photo_filename = "";

        if (unique_number != -1) {

            remote_photo_filename = ServerManager.sendPhotoToServerByFTP(kidnaper_img_file_name, unique_number);

            while (remote_photo_filename == null || remote_photo_filename.isEmpty()) {
                dlgAddKidnaper.setEnabled(true);
                int option = JOptionPane.showConfirmDialog(this.dlgAddKidnaper, "Kidnaper photo was not sent!\nTry again?", "Unsent Photo", JOptionPane.YES_NO_OPTION, JOptionPane.WARNING_MESSAGE);
                if (option == JOptionPane.NO_OPTION) {
                    photo_sucess = false;
                    break;
                }

                dlgAddKidnaper.setEnabled(false);//disable the kidnaper JDialog
                remote_photo_filename = ServerManager.sendPhotoToServerByFTP(kidnaper_img_file_name, unique_number);
            }
        }

        //now send kidnaper bio data to remote database
        SQLColumn[] columns = new SQLColumn[]{new SQLColumn("FIRST_NAME", kidnaper_first_name),
            new SQLColumn("LAST_NAME", kidnaper_last_name),
            new SQLColumn("PHONE_NO", kidnaper_phone_no),
            new SQLColumn("PHOTO_FILE_NAME", remote_photo_filename),
            new SQLColumn("AGE", kidnaper_age),
            new SQLColumn("SEX", kidnaper_sex),
            new SQLColumn("CAPTIVE_SERIAL_NO", ServerManager.SelectedKidnapReportSerialNo),
            new SQLColumn("TIME_CAUGTH", kidnaper_time_caught),
            new SQLColumn("STATUS", kidnaper_status),
            new SQLColumn("REMARKS", kidnaper_remarks)};

        boolean info_success = true;
        while (!sendKidnaperData(columns)) {
            dlgAddKidnaper.setEnabled(true);
            int option = JOptionPane.showConfirmDialog(this.dlgAddKidnaper, "Kidnaper information was not sent!\nTry again?", "Failed", JOptionPane.YES_NO_OPTION, JOptionPane.WARNING_MESSAGE);
            if (option == JOptionPane.NO_OPTION) {
                info_success = false;
                break;
            }

            dlgAddKidnaper.setEnabled(false);//disable the kidnaper JDialog
        }

        if (photo_sucess && info_success) {
            setKidnapInfoBySerialNo();
            JOptionPane.showMessageDialog(this.dlgAddKidnaper, "Added successfully.", "Success", JOptionPane.INFORMATION_MESSAGE);
        } else if (photo_sucess || info_success) {
            setKidnapInfoBySerialNo();
            JOptionPane.showMessageDialog(this.dlgAddKidnaper, "Done but with incomplete process! ", "Imcomplete process", JOptionPane.WARNING_MESSAGE);
        } else {
            JOptionPane.showMessageDialog(this.dlgAddKidnaper, "Nothing was sent! ", "Nothing", JOptionPane.WARNING_MESSAGE);
        }

        this.dlgAddKidnaper.dispose();
    }//GEN-LAST:event_cmdAddKidnaperActionPerformed

    private void txtAddCancelKidnaperActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtAddCancelKidnaperActionPerformed
        this.dlgAddKidnaper.dispose();
    }//GEN-LAST:event_txtAddCancelKidnaperActionPerformed

    private void txtAddKidnaperPhotoFilenameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtAddKidnaperPhotoFilenameActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtAddKidnaperPhotoFilenameActionPerformed

    private void cmdBrowseKidnaperPhotoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmdBrowseKidnaperPhotoActionPerformed
        JFileChooser f = new JFileChooser();
        f.showOpenDialog(this.dlgAddKidnaper);

        File selected_file = f.getSelectedFile();

        try {
            imgAddKidnaperImageView.setImage(selected_file);
            if (selected_file != null) {
                this.txtAddKidnaperPhotoFilename.setText(selected_file.toString());
            }
        } catch (Exception ex) {
            Logger.getLogger(ServerManager.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_cmdBrowseKidnaperPhotoActionPerformed

    private void dlgAddKidnaperWindowClosing(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_dlgAddKidnaperWindowClosing

        clearAddKidnaperForm();
    }//GEN-LAST:event_dlgAddKidnaperWindowClosing

    private void clearAddKidnaperForm() {

        this.txtAddKidnaperFirstName.setText("");
        this.txtAddKidnaperLastName.setText("");
        this.txtAddKidnaperSex.setText("");
        this.txtAddKidnaperAge.setText("");
        this.txtAddKidnaperPhoneNo.setText("");
        this.txtAddKidnaperPhotoFilename.setText("");
        this.txtAddKidnaperTimeCaught.getEditor().setText("");
        this.txtAddKidnaperStatus.setSelectedItem(null);

        try {
            BufferedImage image = null;
            imgAddKidnaperImageView.setImage(image);
        } catch (Exception ex) {
            Logger.getLogger(ServerManager.class.getName()).log(Level.SEVERE, null, ex);
        }

    }

    private void dlgAddKidnaperWindowOpened(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_dlgAddKidnaperWindowOpened

    }//GEN-LAST:event_dlgAddKidnaperWindowOpened
    void setKidnapInfoBySerialNo() {

        DBResource dBResource = null;
        try {

            String[] columns = {"SN",
                "CAPTIVE_FULL_NAME",
                "SEX",
                "AGE",
                "PHONE_NO",
                "CAPTIVE_PHOTO_FILE_NAME",
                "TIME_KIDNAPPED",
                "TIME_RESCUED",
                "STATUS",
                "REMARKS"};

            dBResource = ServerManager.sendQueryAutoPolice("kidnap_report",
                    columns,
                    " WHERE SN='" + ServerManager.SelectedKidnapReportSerialNo + "'");

            String captive_image_file_name = "";

            if (dBResource.rs.next()) {

                String full_name = dBResource.rs.getString("CAPTIVE_FULL_NAME");

                this.cboMngCaptiveStatus.setSelectedItem(dBResource.rs.getString("STATUS"));

                this.lblMngCaptiveFullName.setText(full_name);
                this.lblMngCaptivePhoneNo.setText(dBResource.rs.getString("PHONE_NO"));
                this.lblMngCaptiveSex.setText(dBResource.rs.getString("SEX"));
                this.lblMngCaptiveAge.setText(dBResource.rs.getString("AGE"));//come back for age computation
                this.lblMngCaptiveKidnapDateTime.setText(dBResource.rs.getString("TIME_KIDNAPPED"));
                this.dplMngCaptiveDatetimeRescued.getEditor().setText(dBResource.rs.getString("TIME_RESCUED"));

                captive_image_file_name = dBResource.rs.getString("CAPTIVE_PHOTO_FILE_NAME");

            }

            dBResource.close();

            //the kidnappers 
            String[] columns1 = {"SN",
                "FIRST_NAME",
                "LAST_NAME",
                "SEX",
                "AGE",
                "PHONE_NO",
                "PHOTO_FILE_NAME",
                "TIME_CAUGTH",
                "STATUS",
                "REMARKS"};

            dBResource = ServerManager.sendQueryAutoPolice("kidnappers",
                    columns1,
                    " WHERE CAPTIVE_SERIAL_NO='" + ServerManager.SelectedKidnapReportSerialNo + "'");

            this.mngKidnaperModel.clearData();
            int kidappers_count = 0;
            while (dBResource.rs.next()) {
                kidappers_count++;
                String kidnapper_serial_no = dBResource.rs.getString("SN");
                String first_name = dBResource.rs.getString("FIRST_NAME");
                String last_name = dBResource.rs.getString("LAST_NAME");
                String sex = dBResource.rs.getString("SEX");
                String age = dBResource.rs.getString("AGE");
                String phone_no = dBResource.rs.getString("PHONE_NO");
                String time_caught = dBResource.rs.getString("TIME_CAUGTH");
                String status = dBResource.rs.getString("STATUS");
                String remarks = dBResource.rs.getString("REMARKS");
                String photo_filename = dBResource.rs.getString("PHOTO_FILE_NAME");

                JSONObject json = new JSONObject();
                json.put("kidnaper_serial_no", kidnapper_serial_no);
                json.put("kidnaper_full_name", first_name + " " + last_name);
                json.put("kidnaper_sex", sex);
                json.put("kidnaper_age", age);
                json.put("kidnaper_phone_no", phone_no);
                json.put("kidnaper_time_caught", time_caught);
                json.put("kidnaper_status", status);
                json.put("kidnaper_remarks", remarks);

                this.mngKidnaperModel.add(photo_filename, json.toString());
                //System.out.println(photo_filename);
            }

            lblMngKidnapersCount.setText(kidappers_count > 1 ? (kidappers_count + " Known kidnapers") : (kidappers_count == 1 ? (kidappers_count + " Known kidnaper") : ("Unknown kidnapers")));

            try {
                //load the captive image here
                if (!captive_image_file_name.isEmpty()) {
                    imgCaptiveImageView.setImage(new URL(captive_image_file_name));
                }
            } catch (IOException ex) {
                Logger.getLogger(ServerManager.class.getName()).log(Level.SEVERE, null, ex);
            }
        } catch (SQLException ex) {
            Logger.getLogger(ServerManager.class.getName()).log(Level.SEVERE, null, ex);
        } finally {
            if (dBResource != null) {
                dBResource.close();
            }
        }
    }

    
    Rectangle getCenteredBounds(double percent_screen_width, double percent_screen_height) {
        int task_bar_height = 37;
        int screen_width = (int) this.getGraphicsConfiguration().getBounds().getWidth();
        int screen_height = (int) this.getGraphicsConfiguration().getBounds().getHeight();
        int w = (int) (percent_screen_width * screen_width);
        int h = (int) (percent_screen_height * screen_height);

        int x = (int) ((screen_width - w) / 2);
        int y = (int) ((screen_height - h) / 2);

        if (h + y > screen_height - task_bar_height) {
            y = 0;
            h = screen_height - task_bar_height;
        }
        return new Rectangle(x, y, w, h);
    }

    private Dimension getFormDimension(double percent_screen_width, double percent_screen_height) {

        int screen_width = (int) this.getGraphicsConfiguration().getBounds().getWidth();
        int screen_height = (int) this.getGraphicsConfiguration().getBounds().getHeight();
        int w = (int) (percent_screen_width * screen_width);
        int h = (int) (percent_screen_height * screen_height);

        return new Dimension(w, h);
    }

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(ManageKidnapingsDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(ManageKidnapingsDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(ManageKidnapingsDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(ManageKidnapingsDialog.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the dialog */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                ManageKidnapingsDialog dialog = new ManageKidnapingsDialog(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox cboMngCaptiveStatus;
    private javax.swing.JButton cmdAddKidnaper;
    private javax.swing.JButton cmdBrowseKidnaperPhoto;
    private javax.swing.JButton cmdMngAddKidnapper;
    private javax.swing.JButton cmdMngKidnapingAttachCaptivePhoto;
    private javax.swing.JButton cmdMngKidnapingUpdate;
    private javax.swing.JDialog dlgAddKidnaper;
    private org.jdesktop.swingx.JXDatePicker dplMngCaptiveDatetimeRescued;
    private org.jdesktop.swingx.JXImageView imgAddKidnaperImageView;
    private org.jdesktop.swingx.JXImageView imgCaptiveImageView;
    private javax.swing.JLabel jLabel106;
    private javax.swing.JLabel jLabel107;
    private javax.swing.JLabel jLabel109;
    private javax.swing.JLabel jLabel111;
    private javax.swing.JLabel jLabel113;
    private javax.swing.JLabel jLabel119;
    private javax.swing.JLabel jLabel122;
    private javax.swing.JLabel jLabel123;
    private javax.swing.JLabel jLabel124;
    private javax.swing.JLabel jLabel125;
    private javax.swing.JLabel jLabel126;
    private javax.swing.JLabel jLabel127;
    private javax.swing.JLabel jLabel128;
    private javax.swing.JScrollPane jScrollPane13;
    private javax.swing.JScrollPane jScrollPane14;
    private javax.swing.JLabel lblAddKidnaperOfCaptive;
    private javax.swing.JLabel lblMngCaptiveAge;
    private javax.swing.JLabel lblMngCaptiveDatetimeKidnaped;
    private javax.swing.JLabel lblMngCaptiveFullName;
    private javax.swing.JLabel lblMngCaptiveKidnapDateTime;
    private javax.swing.JLabel lblMngCaptivePhoneNo;
    private javax.swing.JLabel lblMngCaptiveSex;
    private javax.swing.JLabel lblMngKidnapersCount;
    private manager.ui.KidnapReportTable mngKidnapReportTable;
    private manager.ui.KidnaperTable tblKidnapperTable;
    private javax.swing.JButton txtAddCancelKidnaper;
    private javax.swing.JTextField txtAddKidnaperAge;
    private javax.swing.JTextField txtAddKidnaperFirstName;
    private javax.swing.JTextField txtAddKidnaperLastName;
    private javax.swing.JTextField txtAddKidnaperPhoneNo;
    private javax.swing.JTextField txtAddKidnaperPhotoFilename;
    private javax.swing.JTextField txtAddKidnaperSex;
    private javax.swing.JComboBox txtAddKidnaperStatus;
    private org.jdesktop.swingx.JXDatePicker txtAddKidnaperTimeCaught;
    // End of variables declaration//GEN-END:variables

    ListSelectionModel setPrefetchKidnapSelectionModel() {
        ListSelectionModel listSelectionModel = this.mngKidnapReportTable.getSelectionModel();
        listSelectionModel.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
        listSelectionModel.addListSelectionListener(new ListSelectionListener() {

            @Override
            public void valueChanged(ListSelectionEvent e) {

                ServerManager.SelectedKidnapReportSerialNo = mngKidnapReportTable.getSelectedReportSerialNo();
                if (ServerManager.SelectedKidnapReportSerialNo == ServerManager.LastSelectedKidnapReportSerialNo) {
                    return;//avoid repetition which do occur - perhap due to java ui bug
                }
                ServerManager.LastSelectedKidnapReportSerialNo = ServerManager.SelectedKidnapReportSerialNo;

                setKidnapInfoBySerialNo();
            }
        });

        return listSelectionModel;
    }

    private boolean sendKidnaperData(SQLColumn[] columns) {
        boolean success = false;
        try {
            ServerManager.insertStatementAutoPolice("kidnappers", columns, true);
            success = true;
        } catch (SQLException ex) {
            Logger.getLogger(ServerManager.class.getName()).log(Level.SEVERE, null, ex);
        }

        return success;
    }

}
